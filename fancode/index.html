<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>PhoenixxxTv Fancode Live</title>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Montserrat:wght@400;600;700;800&display=swap" />
    <style>
        /* ------------- FANCODE PREMIUM THEME (VISUAL UPDATE ONLY) -------------- */
        :root {
            /* Core Colors */
            --bg-color: #f5f7f8;
            --text-color: #111;
            --card-bg: #ffffff;

            /* Brand Colors */
            --brand-orange: #ff6a00;
            --brand-red: #ff2e00;
            --gradient-primary: linear-gradient(135deg, #ff6a00, #ff2e00);

            /* Status Colors */
            --status-live-bg: #d32f2f;
            --status-upcoming-bg: #ff6a00;

            /* Text Colors */
            --title-color: #0c0c0c;
            --subtitle-color: #666;

            /* Shadows & Depth */
            --shadow-card: 0 4px 12px rgba(0, 0, 0, 0.06);
            --shadow-hover: 0 12px 24px rgba(0, 0, 0, 0.12);
            --shadow-glow: 0 4px 15px rgba(255, 106, 0, 0.3);
        }

        body {
            margin: 0;
            padding: 20px;
            font-family: 'Roboto', sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            box-sizing: border-box;
            text-align: center;
        }

        h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.2rem;
            font-weight: 800;
            margin: 10px 0 8px;
            color: var(--title-color);
            text-transform: uppercase;
            letter-spacing: -0.5px;
        }

        h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.95rem;
            font-weight: 600;
            margin: 0 0 32px;
            color: var(--subtitle-color);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* --- Tabs (Pills Style) --- */
        .tabs {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
            position: relative;
            margin-bottom: 30px;
            padding: 0;
        }

        .tab-btn {
            position: relative;
            background: #fff;
            border: 1px solid #ddd;
            color: #555;
            padding: 10px 24px;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 0.85rem;
            text-transform: uppercase;
            transition: all 0.3s ease;
            overflow: hidden;
            white-space: nowrap;
            flex-shrink: 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .tab-btn:hover {
            border-color: var(--brand-orange);
            color: var(--brand-orange);
            transform: translateY(-1px);
        }

        .tab-btn.active {
            background: var(--gradient-primary);
            color: #fff;
            border-color: transparent;
            box-shadow: var(--shadow-glow);
            transform: translateY(-1px);
        }

        /* Hide origin indicator to use pill style fully */
        .tab-indicator {
            display: none;
        }

        .ripple {
            position: absolute;
            border-radius: 50%;
            transform: scale(0);
            background: rgba(255, 255, 255, 0.3);
            pointer-events: none;
            animation: ripple 600ms linear;
        }

        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* --- Player Wrapper (Premium Card) --- */
        #player-wrapper {
            max-width: 1100px;
            margin: 0 auto 40px auto;
            display: none;
            /* Logic toggles this */
            animation: fadeUp 0.5s ease;
        }

        @keyframes fadeUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #player-wrapper .player-embed {
            position: relative;
            width: 100%;
            aspect-ratio: 16/9;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            background: #000;
        }

        #player-wrapper iframe {
            width: 100%;
            height: 100%;
            border: none;
            position: absolute;
            top: 0;
            left: 0;
        }

        /* --- Matches Grid --- */
        .file-container {
            display: flex;
            flex-wrap: wrap;
            gap: 24px;
            justify-content: center;
            margin-top: 20px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        /* --- Match Card --- */
        .match-item {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 0;
            /* Padding removed for full-bleed image */
            width: calc(25% - 24px);
            min-width: 280px;
            box-shadow: var(--shadow-card);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            display: flex;
            flex-direction: column;
            position: relative;
            min-height: auto;
            /* Let content dictate */
            overflow: hidden;
            border: 1px solid rgba(0, 0, 0, 0.05);
            text-align: left;
        }

        .match-item:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-hover);
        }

        .match-item.active {
            border: 2px solid var(--brand-orange);
            box-shadow: 0 0 0 4px rgba(255, 106, 0, 0.15);
            animation: none;
            /* Replace old glow with cleaner highlight */
        }

        /* Image */
        .match-item img {
            width: 100%;
            height: 180px;
            border-radius: 0;
            object-fit: cover;
            border-bottom: 1px solid #f0f0f0;
        }

        /* Content Typography */
        .match-item h3 {
            font-family: 'Roboto', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            margin: 16px 16px 8px;
            /* Inner padding simulation */
            color: #222;
            line-height: 1.4;
            height: 3em;
            /* roughly 2 lines */
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        /* Badges */
        .badge {
            position: absolute;
            top: 12px;
            padding: 6px 12px;
            font-size: 0.75rem;
            border-radius: 6px;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            z-index: 2;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
        }

        .badge-category {
            left: 12px;
            background: rgba(255, 255, 255, 0.95);
            color: #111;
            backdrop-filter: blur(4px);
        }

        .badge-status {
            right: 12px;
            background: var(--status-live-bg);
            color: #fff;
        }

        .badge-status.upcoming {
            background: var(--status-upcoming-bg);
            color: #fff;
        }

        /* Stream Button */
        .stream-button {
            display: block;
            width: calc(100% - 32px);
            margin: 16px;
            margin-top: auto;
            padding: 12px 0;
            background: var(--gradient-primary);
            color: #fff;
            border: none;
            border-radius: 10px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 0.9rem;
            letter-spacing: 1px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(255, 106, 0, 0.25);
        }

        .stream-button:hover {
            filter: brightness(1.1);
            box-shadow: 0 6px 15px rgba(255, 106, 0, 0.35);
            transform: translateY(-2px);
        }

        .stream-button[disabled] {
            background: #e0e0e0;
            color: #999;
            box-shadow: none;
            cursor: not-allowed;
            transform: none;
        }

        /* Disclaimer / Extras */
        footer {
            padding: 40px 10px;
            margin-top: 60px;
            font-family: 'Montserrat', sans-serif;
            background: #111;
            color: #888;
            font-size: 0.85rem;
            border-top: 4px solid var(--brand-orange);
        }

        .disclaimer-button {
            width: 100%;
            background-color: var(--brand-upcoming-bg);
            /* Fallback */
            background: var(--gradient-primary);
            color: white;
            padding: 12px;
            border: none;
            font-size: 15px;
            font-weight: 700;
            text-transform: uppercase;
            cursor: pointer;
            text-align: center;
        }

        .disclaimer-box {
            display: none;
            background-color: #fffde7;
            color: #8d6e63;
            padding: 20px;
            position: relative;
            border-bottom: 2px solid var(--brand-orange);
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #8d6e63;
        }
    </style>
</head>

<body>
    <!-- Disclaimer -->
    <button class="disclaimer-button" onclick="showDisclaimer()">Must Read Disclaimer</button>
    <div class="disclaimer-box" id="disclaimerBox">
        <button class="close-btn" onclick="closeDisclaimer()">√ó</button>
        <p><strong>Disclaimer:</strong><br>
            This Fancode web page is completely <strong>free</strong> to use. <strong>You do not need to pay</strong>
            any money to anyone for access.<br><br>
            If someone has asked you for money or taken money in exchange for providing this page, <strong>you have been
                scammed</strong>.<br><br>
            Please report such cases here: <a href="https://instagram.com/_l__a__k__s__h__m__a__n_" target="_blank"
                style="color:blue;">LAKSHMAN REDDY</a>
        </p>
    </div>

    <h1>PhoenixxxTv Fancode Live</h1>
    <h2>Made with ‚ô•Ô∏è by Lakshman</h2>

    <!-- Filter Tabs -->
    <div class="tabs" id="tabs">
        <button class="tab-btn active" data-filter="all">All Matches</button>
        <button class="tab-btn" data-filter="LIVE">Live Now</button>
        <button class="tab-btn" data-filter="UPCOMING">Upcoming</button>
        <div class="tab-indicator" id="tabIndicator"></div>
    </div>

    <!-- Player -->
    <div id="player-wrapper">
        <div class="player-embed">
            <iframe id="dynamic-player" allowfullscreen></iframe>
        </div>
    </div>

    <div class="file-container" id="matches"></div>

    <footer>¬©Lakshman 2025 | All Rights Reserved</footer>


    <script>
        // ---------- Disclaimer functions ----------
        function showDisclaimer() {
            document.getElementById('disclaimerBox').style.display = 'block';
        }
        function closeDisclaimer() {
            document.getElementById('disclaimerBox').style.display = 'none';
        }

        const apiURL = 'https://raw.githubusercontent.com/drmlive/fancode-live-events/main/fancode.json';
        const container = document.getElementById('matches');
        const playerWrapper = document.getElementById('player-wrapper');
        const playerIframe = document.getElementById('dynamic-player');

        // üîπ use internal player with ?stream=
        const proxyBaseURL = './player.html?stream=';

        let allMatches = [];
        let activeStreamLink = null;
        let currentFilter = 'all';

        function getStreamLink(m) {
            return m.dai_url || m.url || (m.stream && m.stream.url) || null;
        }

        function playMatch(link) {
            if (!link) return;
            playerIframe.src = proxyBaseURL + encodeURIComponent(link);
            playerWrapper.style.display = 'block';
            playerWrapper.scrollIntoView({ behavior: 'smooth' });
            activeStreamLink = link;
        }

        async function fetchData() {
            try {
                const res = await fetch(apiURL, { cache: 'no-store' });
                const data = await res.json();
                allMatches = data.matches || [];
                render();
            } catch (e) {
                console.error(e);
                container.innerHTML = '<div style="padding:24px;">Failed to fetch live matches.</div>';
            }
        }
        fetchData();
        setInterval(fetchData, 180000);

        function render() {
            container.innerHTML = '';
            let list = allMatches;
            if (currentFilter !== 'all') {
                list = allMatches.filter(m => (m.status || '').toUpperCase() === currentFilter);
            }

            if (!list.length) {
                container.innerHTML = '<div style="padding:24px;">No matches found for this filter.</div>';
                return;
            }

            list.forEach(m => {
                const div = document.createElement('div');
                div.className = 'match-item';

                const img = m.src || 'https://via.placeholder.com/400x225?text=No+Image';
                const status = (m.status || '').toUpperCase();
                const statusClass = status === 'LIVE' ? '' : 'upcoming';
                const link = getStreamLink(m);
                const has = !!link;

                div.innerHTML = `
      <span class="badge badge-category">${m.event_category || 'Other'}</span>
      <span class="badge badge-status ${statusClass}">${status || 'N/A'}</span>
      <img src="${img}" alt="${(m.title || 'Match').replace(/"/g, '')}">
      <h3>${m.title || 'Match Title'}</h3>
      <button class="stream-button" ${has ? '' : 'disabled'}>
        ${has ? 'Watch Now' : 'No Stream'}
      </button>
    `;

                if (has) {
                    div.addEventListener('click', () => playMatch(link));
                    const btn = div.querySelector('.stream-button');
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        playMatch(link);
                    });
                }

                container.appendChild(div);
            });
        }

        /* Tabs */
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                currentFilter = btn.dataset.filter;
                document.querySelectorAll('.tab-btn').forEach(x => x.classList.remove('active'));
                btn.classList.add('active');
                render();
            });
        });
    </script>

    <!-- Extra protection / devtools blocker from second code -->
    <script>
        // Disable right-click
        document.addEventListener('contextmenu', e => e.preventDefault());

        // Block common devtools key combos
        document.addEventListener('keydown', function (e) {
            const key = e.key || e.keyIdentifier || String.fromCharCode(e.keyCode);
            // F12
            if (e.key === 'F12') { e.preventDefault(); e.stopPropagation(); return false; }
            // Ctrl+Shift+I / Ctrl+Shift+C / Ctrl+Shift+J
            if (e.ctrlKey && e.shiftKey && ['I', 'C', 'J'].includes((key + '').toUpperCase())) {
                e.preventDefault(); e.stopPropagation(); return false;
            }
            // Ctrl+U (view-source), Ctrl+S (save), Ctrl+Shift+S
            if (e.ctrlKey && ['u', 's'].includes((key + '').toLowerCase())) {
                e.preventDefault(); e.stopPropagation(); return false;
            }
        });

        // Very simple devtools detector (heuristic)
        (function () {
            let devtoolsOpen = false;
            const threshold = 160; // adjust if needed
            setInterval(() => {
                const widthDiff = window.outerWidth - window.innerWidth;
                const heightDiff = window.outerHeight - window.innerHeight;
                if (widthDiff > threshold || heightDiff > threshold) {
                    if (!devtoolsOpen) {
                        devtoolsOpen = true;
                        // an action to discourage: hide content or show stern message
                        document.documentElement.style.filter = 'blur(6px)';
                        console.warn('DevTools detected ‚Äî content blurred.');
                    }
                } else {
                    if (devtoolsOpen) {
                        devtoolsOpen = false;
                        document.documentElement.style.filter = '';
                        console.info('DevTools closed.');
                    }
                }
            }, 800);
        })();
    </script>

</body>

</html>
